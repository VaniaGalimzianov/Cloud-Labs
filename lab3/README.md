# Лабораторная работа №3

## Что такое CI/CD?
CI/CD (Continuous Integration, Continuous Delivery — непрерывная интеграция и доставка) - технология, предусмотренная для автоматизации развертывания, в частности процесса тестирования и доставки модулей продукта разработчикам или конечным пользователям. Данная концепция включает в себя целый набор различных методологий и практик. Налаженная система развертывания позволяет значительно ускорить процесс внесения изменений и доставки их пользовател, а также способствует уменьшению числа ошибок и дефектов кода через внедрнение регулярного тестирования. 

### Основные этапы CI/CD
Процесс непрерывной интеграции и доставки включает в себя несколько этапов и может быть представлен в виде замкнутой петли, изображенной на рисунке ниже:
https://habrastorage.org/r/w1560/getpro/habr/upload_files/29f/f1c/c39/29ff1cc39f1ccbfb7e93ad2e31c509e9.png![image](https://github.com/user-attachments/assets/a33fe079-2e40-4381-899d-c0720f651d1b)
1. Написание кода. Разработчики создают и тестируют собственные модули и затем добавляют их в соответствующую ветку проекта;
2. Сборка. Заранее подобранная система контроля версий запускает автоматизированную сборку и тестирование всего продукта. Триггеры могут быть настроены автоматически или вручную. Автоматическая сборка выполняется с помощью Jenkins или другого сервера непрерывной интеграции.
3. Ручное тестирование. Здесь в дело вступают тестировщики, которые проверяют работу кода на наличие ненайденных уязвимостей;
4. Релиз. Происходит предоставление доступа пользователям к разработанному продукту. Возможно наличие некоторых его уточнений или изменений при возникновении недостатков.
5. Развертывание. Текущая версия программы размещается на серверах разработчика. Заказчик может работать с программой, исследовать ее функции, искать уязвимости.
6. Поддержка и отслеживание. После развертывания приложение становится доступным конечным пользователям. Параллельно этому разработчики выполняют его поддержку и одновременно мониторят реакцию пользователей, анализируют их опыт взаимодействия с программой.
7. Планирование. На основании пользовательского опыта и различных целей формируется план внесения доработок. После этого разработчики вносят все корректировки в продукт — и цикл разработки начинается снова.

### Инструменты реализации CI/CD
В данный момент существует множество инструментов и сервисов, позволяющих осуществлять перечисленные выше процессы. Среди наиболее популярных - GitLab (CI), Jenkins, TeamCity, CircleCI. При выполнении данной лабораторной работы в качестве сервиса для исполнения CI/CD файлов формата `.yaml` использовался сервис GitHub Actions.

## Создание "Плохого" CI/CD файла
Ниже представлен кода CI/CD файла с разработанным CI/CD-pipeline для GitHub Actions, содержащий несколько bad practices, позволяющих его выполнение:
<img width="797" alt="bad_practices" src="https://github.com/user-attachments/assets/d81485af-16f0-4836-8038-8d3550a2edcc">
1. **Использование последней версии дистрибутива.** В некоторых случаях использование последней версии операционной системы может привести к возникновению нестабильного поведения, неожиданных изменений и проблем совместитмости при исполнении пайплайна и развертывании;
2. **Клонирование репозитория без указания ветки.** В начале пайплайна в разделе `on:` необходимо указывать название необходимых веток, так как в ином случае необходимые процессы могут запуститься на непредназначенных для этого ветках;
3. **Установка зависимостей без кэша.** Установка зависимостей может являться довольно длительным и тяжелым процессом, поэтому необходимо сохранять установленные зависимости в кэш для сокращения времени работы при каждом запуске workflow;
4. **Ошибки линтера не прерывают сборку.** Линтинг (от англ. “lint”) — это процесс автоматической проверки исходного кода на наличие потенциальных ошибок, нарушений стиля или проблем, которые могут привести к багам или снижению качества кода. Игнорирование ошибок на данном этапе может привести к непрохождению остальных тестов или некорректной работе самого модуля;
5. **Тесты выполняются, но результат игнорируется.** Тестирование не имеет смысла, если его результаты игнорируются, поэтому прерывание исполнения при возникновении ошибок на данном этапе крайне важно;
6. **Секретный ключ представлен в явном виде.** Данная ошибка может привести к проблемам с безопасностью. Ключи и пароли следует преставлять в виде секретов для предотвращения получения доступа к ним третьими лицами;
7. **Выполнение тяжелых задач без распараллеливания.** Некоторые задачи могут исполняться в течении длительного времени, поэтому при построении важно создавать параллельные задачи для несвязанных модулей продукта;
8. **Наличие единственной задачи.** Описываемый CI/CD - пайплайном процесс имеет несколько связанных между собой этапов, представляющих отдельные задачи построения основных элементов, этапы тестирования и деплой, поэтому важно разделять их, устанавливая между ними соответстующие взаимосвязи.

